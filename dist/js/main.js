function revertMiniCourse(){loadMiniCourse(refreshPreview)}function publishPrompt(){$("#publishModal").foundation("reveal","open")}function publish(){console.log("PARENT PUBLISH"),generatedHTML=null,MinicoursePublisher.generateHTML({baseURL:"./mini/",baseLevel:maxLevel,js:editor_js.getValue(),formInfo:'<span id="first_name">'+$("#first_name").val().charAt(0).toUpperCase()+$("#first_name").val().slice(1)+'</span> from <span id="city">'+$("#city").val()+'</span><span id="grade" style="display: none;">'+$("#grade").val()+'</span><span id="school" style="display: none;">'+$("#00NU0000005PN7e").val()+'</span><span id="state" style="display: none;">'+$("#state").val()+'</span><span id="country" style="display: none;">'+$("#country").val()+"</span>"},function(e,n){if(e)return void alert("Error generating published HTML: "+e.message);if(generatedHTML=n,console.log("GENERATED HTML"),console.log(generatedHTML),!generatedHTML)return void alert("There was an error publishing your game. Please try again later!");$("#published").hide(),$("#publishing").fadeIn();var o=window.location.hostname.indexOf("code.globaloria.com")>-1?"http://globaloria.com:8000/":"https://hackpub.herokuapp.com/buckets/globaloria/";$.ajax({type:"POST",url:o+"publish",data:{html:generatedHTML},crossDomain:!0,dataType:"json",error:function(){alert("Error publishing HTML!"),console.log(arguments)},success:function(e){$("#published").fadeIn().find("a").attr("href",e["published-url"]).text(e["published-url"]),$("#publish-form input#retUrl").val(e["published-url"]),$("#00NU0000005PN7t").val(e["published-url"]);var n=[];$("#isStudent").prop("checked")&&n.push($("#isStudent").val()),$("#isTeacher").prop("checked")&&n.push($("#isTeacher").val()),$("#isParent").prop("checked")&&n.push($("#isParent").val()),$("#isAdministrator").prop("checked")&&n.push($("#isAdministrator").val()),$("#00NU0000005Ph2K").val(n.join(",")),$("#publish-form").unbind().submit()},complete:function(){$("#publishing").hide()}})})}function loadMiniCourse(cb){cb=cb||function(){},console.log("Loading mini course template");var zeroPaddedLevel=currentLevel<10?"0"+currentLevel:currentLevel;"true"==window.sessionStorage.skipToSandbox&&(zeroPaddedLevel=maxLevel),$.get("mini/levels/"+zeroPaddedLevel+".js",function(data){var markHints=[],readOnlyTokens=[],readOnlyRanges=[],foldedRanges=[],currLineNumber=0,currIndentation=0,editorTooltips=[],editorCommands={markHint:function(){markHints.push(arguments)},readOnlyToken:function(){readOnlyTokens.push(arguments)},beginReadOnly:function(){readOnlyRanges.push([currLineNumber])},endReadOnly:function(){var e=readOnlyRanges[readOnlyRanges.length-1];e.push(currLineNumber)},beginCodeFold:function(e){foldedRanges.push({begin:currLineNumber,indentation:currIndentation,linkText:e||"Moreâ€¦"})},endCodeFold:function(){var e=foldedRanges[foldedRanges.length-1];e.end=currLineNumber},insertTooltip:function(){editorTooltips.push(arguments)}};console.log("Course retrieved: "),console.log(data),data=data.replace(/\r\n/g,"\n"),data=data.replace(/}\n*$/,"\n\n\n\n\n\n\n\n\n\n}\n"),data=data.split("\n").filter(function(line){var match=line.match(/(\s*)\/\/\s*EDITOR:(.*)/);if(!match)return currLineNumber++,!0;with(currIndentation=match[1],editorCommands)console.log("Executing editor command: "+match[2]),eval(match[2]);return!1}).join("\n"),originalEditorContent=data,editor_js.setValue(data),readOnlyRanges.push([0,1]),readOnlyRanges.push([editor_js.lineCount()-2,editor_js.lineCount()]),readOnlyRanges.forEach(function(e){editor_js.markText({line:e[0],ch:0},{line:e[1],ch:0},{className:"js-read-only",readOnly:!0})}),readOnlyTokens.forEach(function(e){readOnlyToken.apply(this,e)}),markHints.forEach(function(e){markHint.apply(this,e)}),$("#js_editor").removeClass("show-js-hints"),markHints.length?$("#showHints").show():$("#showHints").hide(),foldedRanges.forEach(function(e){var n={line:e.begin,ch:0},o=$('<span class="cm-comment">'+e.indentation+"// </span>");$('<span class="js-code-fold-link"></span>').text(e.linkText).appendTo(o),editor_js.foldCode(n,{widget:o[0],rangeFinder:function(o,t){return{from:n,to:{line:e.end-1,ch:editor_js.getLine(e.end-1).length}}}})}),editorTooltips.forEach(function(e){insertEditoTooltip.apply(this,e)}),cb()}),storage.set("currentLevel",currentLevel),document.getElementById("preview").contentWindow.location.reload()}function showHints(){$("#js_editor").addClass("show-js-hints"),$("#showHints").fadeOut()}function nextLevel(){currentLevel==maxLevel?maxLevel:currentLevel++,loadMiniCourse()}function prevLevel(){1==currentLevel?1:currentLevel--,loadMiniCourse()}var maxLevel=gameConstants.MAX_LEVEL;$(document).ready(function(){storage.set("skipToSandbox",!1),$("main").css("height",window.innerHeight-36),$("#welcomeModal").foundation("reveal","open"),$(document).on("close.fndtn.reveal","#welcomeModal",function(){$(document).foundation("joyride","start",{pre_ride_callback:function(){$("#showHints").css("display","block"),$("#previous").css("display","block"),$("#next").css("display","block")},pre_step_callback:function(){console.log(this.$target.first().attr("id")),"preview"==this.$target.first().attr("id")?$("iframe").contents().find("canvas").addClass("joyride-highlight"):this.$target.first().addClass("joyride-highlight")},post_step_callback:function(){"preview"==this.$target.first().attr("id")?$("iframe").contents().find("canvas").removeClass("joyride-highlight"):this.$target.first().removeClass("joyride-highlight")},post_ride_callback:function(){$("#showHints").css("display","none"),$("#previous").css("display","none"),$("#next").css("display","none")},abort_on_close:!1})});var e=0,n=window.location.search.match(/debugLevel=(\d+)/);n&&(e=parseInt(n[1])),window.sessionStorage.currentLevel=e,currentLevel=e,$instructions=$("#instructions"),$(document).on("click","#loginButton",function(e){e.preventDefault(),console.log("login"),console.log(this);var n=document.getElementById("sign_in_email").value,o=document.getElementById("sign_in_password").value;authWithPassword({email:n,password:o},authHandler),$("#signupModal").foundation("reveal","close")}),$(document).on("click","span.tooltip",function(){Foundation.libs.tooltip.hide($("#editor-tooltip")),$(this).remove(),$("#editor-tooltip").remove()}),$(document).on("click","#signupButton",function(e){e.preventDefault(),console.log("signup"),console.log(this);var n=document.getElementById("sign_up_email").value,o=document.getElementById("sign_up_password").value;createUserAndLogin({email:n,password:o}),$("#signupModal").foundation("reveal","close")}),$(document).on("click","#logout",function(e){e.preventDefault(),console.log("logout"),console.log(this),logout()}),loadMiniCourse(),$("iframe#preview").attr("src","mini/index.html").focus(),$("form #00NU0000005PN7j").on("change",function(){console.log($(this).prop("checked")),$(this).prop("checked")?($("#first_name").prop("disabled",!1),$("#email").prop("disabled",!1),$("#phone").prop("disabled",!1)):($("#first_name").val(""),$("#email").val(""),$("#phone").val(""),$("#first_name").prop("disabled",!0),$("#email").prop("disabled",!0),$("#phone").prop("disabled",!0))}),$("#publish-form").submit(function(e){return console.log("VALIDATING"),""==$("#00NU0000005PN7e").val()||""==$("#city").val()||""==$("#country").val()||""==$("#state").val()?(console.log("VALIDATION FAILED"),!1):(console.log("PUBLISHING"),publish(),e.preventDefault(),!1)})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL21haW4uanMiXSwibmFtZXMiOlsicmV2ZXJ0TWluaUNvdXJzZSIsImxvYWRNaW5pQ291cnNlIiwicmVmcmVzaFByZXZpZXciLCJwdWJsaXNoUHJvbXB0IiwiJCIsImZvdW5kYXRpb24iLCJwdWJsaXNoIiwiY29uc29sZSIsImxvZyIsImdlbmVyYXRlZEhUTUwiLCJNaW5pY291cnNlUHVibGlzaGVyIiwiZ2VuZXJhdGVIVE1MIiwiYmFzZVVSTCIsImJhc2VMZXZlbCIsIm1heExldmVsIiwianMiLCJlZGl0b3JfanMiLCJnZXRWYWx1ZSIsImZvcm1JbmZvIiwidmFsIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJzbGljZSIsImVyciIsImh0bWwiLCJhbGVydCIsIm1lc3NhZ2UiLCJoaWRlIiwiZmFkZUluIiwid2luZG93IiwibG9jYXRpb24iLCJob3N0bmFtZSIsImluZGV4T2YiLCJhamF4IiwidHlwZSIsInVybCIsImRhdGEiLCJjcm9zc0RvbWFpbiIsImRhdGFUeXBlIiwiZXJyb3IiLCJhcmd1bWVudHMiLCJzdWNjZXNzIiwiZmluZCIsImF0dHIiLCJ0ZXh0Iiwicm9sZSIsInByb3AiLCJwdXNoIiwiam9pbiIsInVuYmluZCIsInN1Ym1pdCIsImNvbXBsZXRlIiwiY2IiLCJ6ZXJvUGFkZGVkTGV2ZWwiLCJjdXJyZW50TGV2ZWwiLCJzZXNzaW9uU3RvcmFnZSIsImdldCIsIm1hcmtIaW50cyIsInJlYWRPbmx5VG9rZW5zIiwicmVhZE9ubHlSYW5nZXMiLCJmb2xkZWRSYW5nZXMiLCJjdXJyTGluZU51bWJlciIsImN1cnJJbmRlbnRhdGlvbiIsImVkaXRvclRvb2x0aXBzIiwiZWRpdG9yQ29tbWFuZHMiLCJtYXJrSGludCIsInJlYWRPbmx5VG9rZW4iLCJiZWdpblJlYWRPbmx5IiwiZW5kUmVhZE9ubHkiLCJjdXJyUmFuZ2UiLCJsZW5ndGgiLCJiZWdpbkNvZGVGb2xkIiwibGlua1RleHQiLCJiZWdpbiIsImluZGVudGF0aW9uIiwiZW5kQ29kZUZvbGQiLCJlbmQiLCJpbnNlcnRUb29sdGlwIiwicmVwbGFjZSIsInNwbGl0IiwiZmlsdGVyIiwibGluZSIsIm1hdGNoIiwiZXZhbCIsIm9yaWdpbmFsRWRpdG9yQ29udGVudCIsInNldFZhbHVlIiwibGluZUNvdW50IiwiZm9yRWFjaCIsInJhbmdlIiwibWFya1RleHQiLCJjaCIsImNsYXNzTmFtZSIsInJlYWRPbmx5IiwiYXBwbHkiLCJ0aGlzIiwicmVtb3ZlQ2xhc3MiLCJzaG93Iiwic3RhcnQiLCJzcGFuIiwiYXBwZW5kVG8iLCJmb2xkQ29kZSIsIndpZGdldCIsInJhbmdlRmluZGVyIiwiY20iLCJwb3MiLCJmcm9tIiwidG8iLCJnZXRMaW5lIiwiaW5zZXJ0RWRpdG9Ub29sdGlwIiwic3RvcmFnZSIsInNldCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb250ZW50V2luZG93IiwicmVsb2FkIiwic2hvd0hpbnRzIiwiYWRkQ2xhc3MiLCJmYWRlT3V0IiwibmV4dExldmVsIiwicHJldkxldmVsIiwiZ2FtZUNvbnN0YW50cyIsIk1BWF9MRVZFTCIsInJlYWR5IiwiY3NzIiwiaW5uZXJIZWlnaHQiLCJvbiIsInByZV9yaWRlX2NhbGxiYWNrIiwicHJlX3N0ZXBfY2FsbGJhY2siLCIkdGFyZ2V0IiwiZmlyc3QiLCJjb250ZW50cyIsInBvc3Rfc3RlcF9jYWxsYmFjayIsInBvc3RfcmlkZV9jYWxsYmFjayIsImFib3J0X29uX2Nsb3NlIiwic3RhcnRMZXZlbCIsImRlYnVnTGV2ZWwiLCJzZWFyY2giLCJwYXJzZUludCIsIiRpbnN0cnVjdGlvbnMiLCJlIiwicHJldmVudERlZmF1bHQiLCJlbWFpbCIsInZhbHVlIiwicGFzc3dvcmQiLCJhdXRoV2l0aFBhc3N3b3JkIiwiYXV0aEhhbmRsZXIiLCJGb3VuZGF0aW9uIiwibGlicyIsInRvb2x0aXAiLCJyZW1vdmUiLCJjcmVhdGVVc2VyQW5kTG9naW4iLCJsb2dvdXQiLCJmb2N1cyIsImV2ZW50Il0sIm1hcHBpbmdzIjoiQUF3S0EsUUFBU0Esb0JBQ0xD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QUFpQjhCLE1BQ2pEQyxFQUFXaEMsU0FBU0MsZUFBZSxvQkFBb0I4QixLQUUzRFEscUJBQ0lULE1BQU9BLEVBQ1BFLFNBQVVBLElBSWQzSSxFQUFFLGdCQUFnQkMsV0FBVyxTQUFVLFdBRzNDRCxFQUFFMkcsVUFBVWMsR0FBRyxRQUFTLFVBQVcsU0FBU2MsR0FDeENBLEVBQUVDLGlCQUNGckksUUFBUUMsSUFBSSxVQUNaRCxRQUFRQyxJQUFJc0YsTUFFWnlELFdBR0p0SixpQkFFQUcsRUFBRSxrQkFBa0J1QyxLQUFLLE1BQU8sbUJBQW1CNkcsUUFJbkRwSixFQUFFLHlCQUF5QnlILEdBQUcsU0FBVSxXQUNwQ3RILFFBQVFDLElBQUtKLEVBQUUwRixNQUFNaEQsS0FBSyxZQUN0QjFDLEVBQUUwRixNQUFNaEQsS0FBSyxZQUNiMUMsRUFBRSxlQUFlMEMsS0FBSyxZQUFZLEdBRWxDMUMsRUFBRSxVQUFVMEMsS0FBSyxZQUFZLEdBQzdCMUMsRUFBRSxVQUFVMEMsS0FBSyxZQUFZLEtBRTdCMUMsRUFBRSxlQUFlZSxJQUFJLElBRXJCZixFQUFFLFVBQVVlLElBQUksSUFDaEJmLEVBQUUsVUFBVWUsSUFBSSxJQUVoQmYsRUFBRSxlQUFlMEMsS0FBSyxZQUFZLEdBRWxDMUMsRUFBRSxVQUFVMEMsS0FBSyxZQUFZLEdBQzdCMUMsRUFBRSxVQUFVMEMsS0FBSyxZQUFZLE1BSXJDMUMsRUFBRSxpQkFBaUI4QyxPQUFPLFNBQVN1RyxHQUcvQixNQUZBbEosU0FBUUMsSUFBSSxjQUV1QixJQUEvQkosRUFBRSxvQkFBb0JlLE9BQ0MsSUFBcEJmLEVBQUUsU0FBU2UsT0FDWSxJQUF2QmYsRUFBRSxZQUFZZSxPQUNPLElBQXJCZixFQUFFLFVBQVVlLE9BRWZaLFFBQVFDLElBQUksc0JBQ0wsSUFNWEQsUUFBUUMsSUFBSSxjQUNaRixVQUNBbUosRUFBTWIsa0JBQ0MiLCJmaWxlIjoianMvbWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtYXhMZXZlbCA9IGdhbWVDb25zdGFudHMuTUFYX0xFVkVMO1xuXG4kKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAvLyBEb24ndCBzdGFydCBpbiBzYW5kYm94IGlmIHRoZSBwYWdlIGlzIHJlZnJlc2hlZFxuICAgIHN0b3JhZ2Uuc2V0KCdza2lwVG9TYW5kYm94JywgZmFsc2UpO1xuXG4gICAgLy9SZXNpemUgdG8gdmlld3BvcnRcbiAgICAkKFwibWFpblwiKS5jc3MoXCJoZWlnaHRcIiwgd2luZG93LmlubmVySGVpZ2h0LTM2KTtcblxuICAgIC8vT3BlbiB3ZWxjb21lIG1vZGFsIG9uIGZpcnN0IGxvYWRcbiAgICAkKCcjd2VsY29tZU1vZGFsJykuZm91bmRhdGlvbigncmV2ZWFsJywgJ29wZW4nKTtcblxuICAgIC8vIEluaXQgam95cmlkZSBhZnRlciBXZWxjb21lIE1vZGFsXG4gICAgJChkb2N1bWVudCkub24oJ2Nsb3NlLmZuZHRuLnJldmVhbCcsICcjd2VsY29tZU1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgXG4gICAgICAkKGRvY3VtZW50KS5mb3VuZGF0aW9uKCdqb3lyaWRlJywgJ3N0YXJ0Jywge1xuICAgICAgICBcbiAgICAgICAgcHJlX3JpZGVfY2FsbGJhY2sgICAgICA6IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRGlzcGxheSBhbGwgYnV0dG9ucyBmb3Igam95cmlkZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICQoXCIjcmV2ZXJ0XCIpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjc2hvd0hpbnRzXCIpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcHJldmlvdXNcIikuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNuZXh0XCIpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICBwcmVfc3RlcF9jYWxsYmFjayAgICAgIDogZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy4kdGFyZ2V0LmZpcnN0KCkuYXR0cignaWQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy4kdGFyZ2V0LmZpcnN0KCkuYXR0cignaWQnKSA9PSBcInByZXZpZXdcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiaWZyYW1lXCIpLmNvbnRlbnRzKCkuZmluZChcImNhbnZhc1wiKS5hZGRDbGFzcyhcImpveXJpZGUtaGlnaGxpZ2h0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFyZ2V0LmZpcnN0KCkuYWRkQ2xhc3MoJ2pveXJpZGUtaGlnaGxpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICBwb3N0X3N0ZXBfY2FsbGJhY2sgICAgIDogZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy4kdGFyZ2V0LmZpcnN0KCkuYXR0cignaWQnKSA9PSBcInByZXZpZXdcIil7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiaWZyYW1lXCIpLmNvbnRlbnRzKCkuZmluZChcImNhbnZhc1wiKS5yZW1vdmVDbGFzcyhcImpveXJpZGUtaGlnaGxpZ2h0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kdGFyZ2V0LmZpcnN0KCkucmVtb3ZlQ2xhc3MoJ2pveXJpZGUtaGlnaGxpZ2h0Jyk7ICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICBwb3N0X3JpZGVfY2FsbGJhY2sgICAgIDogZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Rpc3BsYXkgYWxsIGJ1dHRvbnMgZm9yIGpveXJpZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkKFwiI3JldmVydFwiKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjc2hvd0hpbnRzXCIpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwcmV2aW91c1wiKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjbmV4dFwiKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5pdCBpZnJhbWUncyBqb3lyaWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByZXZpZXcnKS5jb250ZW50V2luZG93LndhbGt0aHJvdWdoKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgYWJvcnRfb25fY2xvc2UgICAgICAgICAgIDogZmFsc2UsXG4gICAgICB9KTtcblxuICAgIH0pO1xuXG5cblxuICAgIHZhciBzdGFydExldmVsID0gMDtcbiAgICB2YXIgZGVidWdMZXZlbCA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gubWF0Y2goL2RlYnVnTGV2ZWw9KFxcZCspLyk7XG5cbiAgICBpZiAoZGVidWdMZXZlbCkge1xuICAgICAgICBzdGFydExldmVsID0gcGFyc2VJbnQoZGVidWdMZXZlbFsxXSk7XG4gICAgfVxuXG5cbiAgICAvL1Jlc2V0IHNlc3Npb25TdG9yYWdlIHRvIGtlZXAgZWRpdG9yIGFuZCBpZnJhbWUgaW4gc3luY1xuICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZVsnY3VycmVudExldmVsJ10gPSBzdGFydExldmVsO1xuXG4gICAgY3VycmVudExldmVsID0gc3RhcnRMZXZlbDtcblxuICAgICRpbnN0cnVjdGlvbnMgPSAkKFwiI2luc3RydWN0aW9uc1wiKTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjbG9naW5CdXR0b24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJsb2dpblwiKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG5cbiAgICAgICAgdmFyIGVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZ25faW5fZW1haWwnKS52YWx1ZTtcbiAgICAgICAgdmFyIHBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NpZ25faW5fcGFzc3dvcmQnKS52YWx1ZTtcbiAgICAgICAgYXV0aFdpdGhQYXNzd29yZCh7XG4gICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgfSwgYXV0aEhhbmRsZXIpO1xuXG5cblxuICAgICAgICAkKCcjc2lnbnVwTW9kYWwnKS5mb3VuZGF0aW9uKCdyZXZlYWwnLCAnY2xvc2UnKTtcbiAgICB9KTtcblxuICAgIC8vUmVtb3ZlIHRvb2x0aXBzIGZyb20gY29kZSBlZGl0b3JcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnc3Bhbi50b29sdGlwJywgZnVuY3Rpb24oKXtcbiAgICAgICAgRm91bmRhdGlvbi5saWJzLnRvb2x0aXAuaGlkZSggJCgnI2VkaXRvci10b29sdGlwJykgKTtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmUoKTtcbiAgICAgICAgJCgnI2VkaXRvci10b29sdGlwJykucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnI3NpZ251cEJ1dHRvbicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zb2xlLmxvZyhcInNpZ251cFwiKTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICAgIFxuICAgICAgICB2YXIgZW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lnbl91cF9lbWFpbCcpLnZhbHVlO1xuICAgICAgICB2YXIgcGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2lnbl91cF9wYXNzd29yZCcpLnZhbHVlO1xuXG4gICAgICAgIGNyZWF0ZVVzZXJBbmRMb2dpbih7XG4gICAgICAgICAgICBlbWFpbDogZW1haWwsXG4gICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcbiAgICAgICAgfSk7XG4gICAgICAgIFxuXG4gICAgICAgICQoJyNzaWdudXBNb2RhbCcpLmZvdW5kYXRpb24oJ3JldmVhbCcsICdjbG9zZScpO1xuICAgIH0pO1xuXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyNsb2dvdXQnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJsb2dvdXRcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xuXG4gICAgICAgIGxvZ291dCgpO1xuICAgIH0pO1xuXG4gICAgbG9hZE1pbmlDb3Vyc2UoKTtcbiAgICAvL1NldCBpZnJhbWUgdG8gcmlnaHQgbGV2ZWxcbiAgICAkKCdpZnJhbWUjcHJldmlldycpLmF0dHIoJ3NyYycsICdtaW5pL2luZGV4Lmh0bWwnKS5mb2N1cygpO1xuXG4gICAgLy8gUHVibGlzaGluZyBmb3JtIHN1Ym1pc3Npb25cbiAgICAvL2lzLWFkdWx0XG4gICAgJCgnZm9ybSAjMDBOVTAwMDAwMDVQTjdqJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKCAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSApO1xuICAgICAgICBpZiggJCh0aGlzKS5wcm9wKCdjaGVja2VkJykgKXtcbiAgICAgICAgICAgICQoJyNmaXJzdF9uYW1lJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAvLyAkKCcjbGFzdF9uYW1lJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAkKCcjZW1haWwnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICQoJyNwaG9uZScpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICQoJyNmaXJzdF9uYW1lJykudmFsKCcnKTtcbiAgICAgICAgICAgIC8vICQoJyNsYXN0X25hbWUnKS52YWwoJycpO1xuICAgICAgICAgICAgJCgnI2VtYWlsJykudmFsKCcnKTtcbiAgICAgICAgICAgICQoJyNwaG9uZScpLnZhbCgnJyk7XG5cbiAgICAgICAgICAgICQoJyNmaXJzdF9uYW1lJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIC8vICQoJyNsYXN0X25hbWUnKS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgJCgnI2VtYWlsJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICQoJyNwaG9uZScpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAkKCcjcHVibGlzaC1mb3JtJykuc3VibWl0KGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiVkFMSURBVElOR1wiKTtcbiAgICAgICAgLy8gRm9ybSB2YWxpZGF0aW9uXG4gICAgICAgIGlmKCAkKCcjMDBOVTAwMDAwMDVQTjdlJykudmFsKCkgPT0gXCJcIlxuICAgICAgICAgICAgfHwgJCgnI2NpdHknKS52YWwoKSA9PSBcIlwiXG4gICAgICAgICAgICB8fCAkKCcjY291bnRyeScpLnZhbCgpID09IFwiXCJcbiAgICAgICAgICAgIHx8ICQoJyNzdGF0ZScpLnZhbCgpID09IFwiXCJcbiAgICAgICAgICAgICl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlZBTElEQVRJT04gRkFJTEVEXCIpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJldmVudCBmb3JtIHN1Ym1pc3Npb25cbiAgICAgICAgLy8gUHVibGlzaCBnYW1lIGFuZCBzZXQgdXJsIGFzIHRoZSByZXR1cm4gcGFyYW1ldGVyIGZvciB0aGUgZm9ybS5cbiAgICAgICAgLy8gU3VibWl0IHRoZSBmb3JtIGZyb20gcHVibGlzaFxuICAgICAgICBjb25zb2xlLmxvZyhcIlBVQkxJU0hJTkdcIik7XG4gICAgICAgIHB1Ymxpc2goKTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xufSk7XG5cbmZ1bmN0aW9uIHJldmVydE1pbmlDb3Vyc2UoKSB7XG4gICAgbG9hZE1pbmlDb3Vyc2UocmVmcmVzaFByZXZpZXcpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoUHJvbXB0KCl7XG4gICQoJyNwdWJsaXNoTW9kYWwnKS5mb3VuZGF0aW9uKCdyZXZlYWwnLCAnb3BlbicpO1xufVxuXG5mdW5jdGlvbiBwdWJsaXNoKCl7XG4gIGNvbnNvbGUubG9nKFwiUEFSRU5UIFBVQkxJU0hcIik7XG4gIFxuICBnZW5lcmF0ZWRIVE1MID0gbnVsbDtcbiAgTWluaWNvdXJzZVB1Ymxpc2hlci5nZW5lcmF0ZUhUTUwoe1xuICAgIGJhc2VVUkw6ICcuL21pbmkvJyxcbiAgICBiYXNlTGV2ZWw6IG1heExldmVsLFxuICAgIGpzOiBlZGl0b3JfanMuZ2V0VmFsdWUoKSxcbiAgICBmb3JtSW5mbzogJzxzcGFuIGlkPVwiZmlyc3RfbmFtZVwiPicrICQoJyNmaXJzdF9uYW1lJykudmFsKCkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyAkKCcjZmlyc3RfbmFtZScpLnZhbCgpLnNsaWNlKDEpICsnPC9zcGFuPiBmcm9tIDxzcGFuIGlkPVwiY2l0eVwiPicrJCgnI2NpdHknKS52YWwoKSsnPC9zcGFuPidcbiAgICAgICAgICAgICAgKyc8c3BhbiBpZD1cImdyYWRlXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPicrJCgnI2dyYWRlJykudmFsKCkrJzwvc3Bhbj4nXG4gICAgICAgICAgICAgICsnPHNwYW4gaWQ9XCJzY2hvb2xcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+JyskKCcjMDBOVTAwMDAwMDVQTjdlJykudmFsKCkrJzwvc3Bhbj4nXG4gICAgICAgICAgICAgICsnPHNwYW4gaWQ9XCJzdGF0ZVwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj4nKyQoJyNzdGF0ZScpLnZhbCgpKyc8L3NwYW4+J1xuICAgICAgICAgICAgICArJzxzcGFuIGlkPVwiY291bnRyeVwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj4nKyQoJyNjb3VudHJ5JykudmFsKCkrJzwvc3Bhbj4nXG4gIH0sIGZ1bmN0aW9uKGVyciwgaHRtbCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGFsZXJ0KFwiRXJyb3IgZ2VuZXJhdGluZyBwdWJsaXNoZWQgSFRNTDogXCIgKyBlcnIubWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIGdlbmVyYXRlZEhUTUwgPSBodG1sO1xuICAgIGNvbnNvbGUubG9nKFwiR0VORVJBVEVEIEhUTUxcIik7XG4gICAgY29uc29sZS5sb2coZ2VuZXJhdGVkSFRNTCk7XG5cbiAgICBpZiAoIWdlbmVyYXRlZEhUTUwpIHtcbiAgICAgIGFsZXJ0KFwiVGhlcmUgd2FzIGFuIGVycm9yIHB1Ymxpc2hpbmcgeW91ciBnYW1lLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyIVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgXG4gICAgLy8gQmVnaW4gcHVibGlzaGluZ1xuICAgICQoXCIjcHVibGlzaGVkXCIpLmhpZGUoKTtcbiAgICAkKFwiI3B1Ymxpc2hpbmdcIikuZmFkZUluKCk7XG5cbiAgICB2YXIgYmFzZVVSTCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5pbmRleE9mKCdjb2RlLmdsb2JhbG9yaWEuY29tJykgPiAtMVxuICAgICAgICAgICAgICAgICAgPyAnaHR0cDovL2dsb2JhbG9yaWEuY29tOjgwMDAvJ1xuICAgICAgICAgICAgICAgICAgOiAnaHR0cHM6Ly9oYWNrcHViLmhlcm9rdWFwcC5jb20vYnVja2V0cy9nbG9iYWxvcmlhLyc7XG5cbiAgICAkLmFqYXgoe1xuICAgICAgdHlwZTogJ1BPU1QnLFxuICAgICAgdXJsOiBiYXNlVVJMICsgJ3B1Ymxpc2gnLFxuICAgICAgZGF0YToge1xuICAgICAgICAnaHRtbCc6IGdlbmVyYXRlZEhUTUxcbiAgICAgIH0sXG4gICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcbiAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICBlcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGFsZXJ0KFwiRXJyb3IgcHVibGlzaGluZyBIVE1MIVwiKTtcbiAgICAgICAgY29uc29sZS5sb2coYXJndW1lbnRzKTtcbiAgICAgIH0sXG4gICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICQoXCIjcHVibGlzaGVkXCIpLmZhZGVJbigpXG4gICAgICAgICAgLmZpbmQoJ2EnKVxuICAgICAgICAgIC5hdHRyKCdocmVmJywgZGF0YVsncHVibGlzaGVkLXVybCddKVxuICAgICAgICAgIC50ZXh0KGRhdGFbJ3B1Ymxpc2hlZC11cmwnXSk7XG5cbiAgICAgICAgXG4gICAgICAgIC8vIFJlcGxhY2UgdGhlIGZvcm0ncyByZXR1cm4gVVJMIGFuZCBzdWJtaXQgdGhlIGZvcm1cbiAgICAgICAgJCgnI3B1Ymxpc2gtZm9ybSBpbnB1dCNyZXRVcmwnKS52YWwoIGRhdGFbJ3B1Ymxpc2hlZC11cmwnXSApO1xuICAgICAgICBcbiAgICAgICAgLy8gUG9wdWxhdGUgZ2FtZSBsaW5rIGZvciBzYWxlc2ZvcmNlIGNhcHR1cmVcbiAgICAgICAgJCgnIzAwTlUwMDAwMDA1UE43dCcpLnZhbChkYXRhWydwdWJsaXNoZWQtdXJsJ10pO1xuXG4gICAgICAgIC8vIFBvcHVsYXRlIHRoZSByb2xlIGZpZWxkIGZvciBzYWxlc2ZvcmNlXG4gICAgICAgIHZhciByb2xlID0gW107XG4gICAgICAgIGlmKCAkKCcjaXNTdHVkZW50JykucHJvcCgnY2hlY2tlZCcpICkgcm9sZS5wdXNoKCAkKCcjaXNTdHVkZW50JykudmFsKCkgKTtcbiAgICAgICAgaWYoICQoJyNpc1RlYWNoZXInKS5wcm9wKCdjaGVja2VkJykgKSByb2xlLnB1c2goICQoJyNpc1RlYWNoZXInKS52YWwoKSApO1xuICAgICAgICBpZiggJCgnI2lzUGFyZW50JykucHJvcCgnY2hlY2tlZCcpICkgcm9sZS5wdXNoKCAkKCcjaXNQYXJlbnQnKS52YWwoKSApO1xuICAgICAgICBpZiggJCgnI2lzQWRtaW5pc3RyYXRvcicpLnByb3AoJ2NoZWNrZWQnKSApIHJvbGUucHVzaCggJCgnI2lzQWRtaW5pc3RyYXRvcicpLnZhbCgpICk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAkKCcjMDBOVTAwMDAwMDVQaDJLJykudmFsKCByb2xlLmpvaW4oJywnKSApO1xuXG4gICAgICAgIC8vVW5iaW5kIGZvcm0gdG8gcHJldmVudCBzdWJtaXQgbG9vcFxuICAgICAgICAkKCcjcHVibGlzaC1mb3JtJykudW5iaW5kKCkuc3VibWl0KCk7XG5cbiAgICAgIH0sXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICQoXCIjcHVibGlzaGluZ1wiKS5oaWRlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkTWluaUNvdXJzZShjYil7XG4gICAgY2IgPSBjYiB8fCBmdW5jdGlvbigpIHt9XG4gICAgY29uc29sZS5sb2coXCJMb2FkaW5nIG1pbmkgY291cnNlIHRlbXBsYXRlXCIpO1xuICAgIHZhciB6ZXJvUGFkZGVkTGV2ZWwgPSAoY3VycmVudExldmVsIDwgMTApID8gJzAnICsgY3VycmVudExldmVsIDogY3VycmVudExldmVsO1xuXG4gICAgLy8gU2tpcCB0byBzYW5kYm94XG4gICAgaWYoIHdpbmRvdy5zZXNzaW9uU3RvcmFnZVsnc2tpcFRvU2FuZGJveCddID09IFwidHJ1ZVwiICl7XG4gICAgICAgIHplcm9QYWRkZWRMZXZlbCA9IG1heExldmVsO1xuICAgIH1cblxuICAgICQuZ2V0KCdtaW5pL2xldmVscy8nICsgemVyb1BhZGRlZExldmVsICsgJy5qcycsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgdmFyIG1hcmtIaW50cyA9IFtdO1xuICAgICAgICB2YXIgcmVhZE9ubHlUb2tlbnMgPSBbXTtcbiAgICAgICAgdmFyIHJlYWRPbmx5UmFuZ2VzID0gW107XG4gICAgICAgIHZhciBmb2xkZWRSYW5nZXMgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJMaW5lTnVtYmVyID0gMDtcbiAgICAgICAgdmFyIGN1cnJJbmRlbnRhdGlvbiA9IDA7XG4gICAgICAgIHZhciBlZGl0b3JUb29sdGlwcyA9IFtdO1xuICAgICAgICB2YXIgZWRpdG9yQ29tbWFuZHMgPSB7XG4gICAgICAgICAgICBtYXJrSGludDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbWFya0hpbnRzLnB1c2goYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWFkT25seVRva2VuOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJlYWRPbmx5VG9rZW5zLnB1c2goYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiZWdpblJlYWRPbmx5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZWFkT25seVJhbmdlcy5wdXNoKFtjdXJyTGluZU51bWJlcl0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVuZFJlYWRPbmx5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VyclJhbmdlID0gcmVhZE9ubHlSYW5nZXNbcmVhZE9ubHlSYW5nZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgY3VyclJhbmdlLnB1c2goY3VyckxpbmVOdW1iZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJlZ2luQ29kZUZvbGQ6IGZ1bmN0aW9uKGxpbmtUZXh0KSB7XG4gICAgICAgICAgICAgICAgZm9sZGVkUmFuZ2VzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBiZWdpbjogY3VyckxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgIGluZGVudGF0aW9uOiBjdXJySW5kZW50YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIGxpbmtUZXh0OiBsaW5rVGV4dCB8fCAnTW9yZVxcdTIwMjYnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZW5kQ29kZUZvbGQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyUmFuZ2UgPSBmb2xkZWRSYW5nZXNbZm9sZGVkUmFuZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIGN1cnJSYW5nZS5lbmQgPSBjdXJyTGluZU51bWJlcjtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGluc2VydFRvb2x0aXA6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgZWRpdG9yVG9vbHRpcHMucHVzaChhcmd1bWVudHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ291cnNlIHJldHJpZXZlZDogXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcblxuICAgICAgICAvLyBOb3JtYWxpemUgd2hpdGVzcGFjZSBpZiB3ZSdyZSBvbiB3aW5kb3dzLlxuICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKC9cXHJcXG4vZywgJ1xcbicpO1xuXG4gICAgICAgIC8vIFdlIHdhbnQgdG8gbWFrZSBpdCBsZXNzIGxpa2VseSB0aGF0IHRoZSB1c2VyIGFjY2lkZW50YWxseVxuICAgICAgICAvLyBkZWxldGVzIHRoZSBjbG9zaW5nIGJyYWNlIG9mIGEgZnVuY3Rpb24gZGVmaW5pdGlvbiBvciBhZGRzXG4gICAgICAgIC8vIGNvZGUgYWZ0ZXIgaXQsIHNvIHdlJ2xsIG1vdmUgaXQgd2F5IGRvd24gdG8gdGhlIGJvdHRvbSBvZlxuICAgICAgICAvLyB0aGUgZmlsZSB3aXRoIHBsZW50eSBvZiB3aGl0ZS1zcGFjZSBpbiBiZXR3ZWVuLlxuICAgICAgICBkYXRhID0gZGF0YS5yZXBsYWNlKC99XFxuKiQvLCAnXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxuXFxufVxcbicpO1xuXG4gICAgICAgIGRhdGEgPSBkYXRhLnNwbGl0KCdcXG4nKS5maWx0ZXIoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCgvKFxccyopXFwvXFwvXFxzKkVESVRPUjooLiopLyk7XG4gICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgY3VyckxpbmVOdW1iZXIrKztcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY3VyckluZGVudGF0aW9uID0gbWF0Y2hbMV07XG4gICAgICAgICAgICB3aXRoIChlZGl0b3JDb21tYW5kcykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRXhlY3V0aW5nIGVkaXRvciBjb21tYW5kOiBcIiArIG1hdGNoWzJdKTtcbiAgICAgICAgICAgICAgICBldmFsKG1hdGNoWzJdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KS5qb2luKCdcXG4nKTtcblxuICAgICAgICBvcmlnaW5hbEVkaXRvckNvbnRlbnQgPSBkYXRhO1xuICAgICAgICBlZGl0b3JfanMuc2V0VmFsdWUoZGF0YSk7XG5cbiAgICAgICAgLy8gTWFrZSB0aGUgZmlyc3QgbGluZSByZWFkLW9ubHkuXG4gICAgICAgIHJlYWRPbmx5UmFuZ2VzLnB1c2goWzAsIDFdKTtcblxuICAgICAgICAvLyBNYWtlIHRoZSBsYXN0IHR3byBsaW5lcyByZWFkLW9ubHkuXG4gICAgICAgIHJlYWRPbmx5UmFuZ2VzLnB1c2goW2VkaXRvcl9qcy5saW5lQ291bnQoKSAtIDIsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZGl0b3JfanMubGluZUNvdW50KCldKTtcblxuICAgICAgICByZWFkT25seVJhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uKHJhbmdlKSB7XG4gICAgICAgICAgICBlZGl0b3JfanMubWFya1RleHQoe2xpbmU6IHJhbmdlWzBdLCBjaDogMH0sIHtcbiAgICAgICAgICAgICAgbGluZTogcmFuZ2VbMV0sXG4gICAgICAgICAgICAgIGNoOiAwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2pzLXJlYWQtb25seScsXG4gICAgICAgICAgICAgIHJlYWRPbmx5OiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlYWRPbmx5VG9rZW5zLmZvckVhY2goZnVuY3Rpb24oYXJndW1lbnRzKSB7XG4gICAgICAgICAgICByZWFkT25seVRva2VuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG1hcmtIaW50cy5mb3JFYWNoKGZ1bmN0aW9uKGFyZ3VtZW50cykge1xuICAgICAgICAgICAgbWFya0hpbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJChcIiNqc19lZGl0b3JcIikucmVtb3ZlQ2xhc3MoJ3Nob3ctanMtaGludHMnKTtcblxuICAgICAgICBpZiAobWFya0hpbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgJChcIiNzaG93SGludHNcIikuc2hvdygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJChcIiNzaG93SGludHNcIikuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9sZGVkUmFuZ2VzLmZvckVhY2goZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHtsaW5lOiByYW5nZS5iZWdpbiwgY2g6IDB9O1xuICAgICAgICAgICAgdmFyIHNwYW4gPSAkKCc8c3BhbiBjbGFzcz1cImNtLWNvbW1lbnRcIj4nICsgcmFuZ2UuaW5kZW50YXRpb24gK1xuICAgICAgICAgICAgICAgICAgICAgICAgICcvLyA8L3NwYW4+Jyk7XG4gICAgICAgICAgICAkKCc8c3BhbiBjbGFzcz1cImpzLWNvZGUtZm9sZC1saW5rXCI+PC9zcGFuPicpXG4gICAgICAgICAgICAgIC50ZXh0KHJhbmdlLmxpbmtUZXh0KVxuICAgICAgICAgICAgICAuYXBwZW5kVG8oc3Bhbik7XG4gICAgICAgICAgICBlZGl0b3JfanMuZm9sZENvZGUoc3RhcnQsIHtcbiAgICAgICAgICAgICAgICB3aWRnZXQ6IHNwYW5bMF0sXG4gICAgICAgICAgICAgICAgcmFuZ2VGaW5kZXI6IGZ1bmN0aW9uKGNtLCBwb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IHN0YXJ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lOiByYW5nZS5lbmQgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoOiBlZGl0b3JfanMuZ2V0TGluZShyYW5nZS5lbmQgLSAxKS5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZWRpdG9yVG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbihhcmd1bWVudHMpe1xuICAgICAgICAgICAgaW5zZXJ0RWRpdG9Ub29sdGlwLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNiKCk7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gU2V0IHNlc3Npb24gc3RvcmFnZSBhbmQgcmVsb2FkIHRoZSBpZnJhbWUgdG8gYmUgc3luY2hlZFxuICAgIHN0b3JhZ2Uuc2V0KCdjdXJyZW50TGV2ZWwnLCBjdXJyZW50TGV2ZWwpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmV2aWV3JykuY29udGVudFdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbn1cblxuZnVuY3Rpb24gc2hvd0hpbnRzKCkge1xuICAgICQoXCIjanNfZWRpdG9yXCIpLmFkZENsYXNzKCdzaG93LWpzLWhpbnRzJyk7XG4gICAgJChcIiNzaG93SGludHNcIikuZmFkZU91dCgpO1xufVxuXG5mdW5jdGlvbiBuZXh0TGV2ZWwoKXtcbiAgICBjdXJyZW50TGV2ZWwgPT0gbWF4TGV2ZWwgPyBtYXhMZXZlbCA6IGN1cnJlbnRMZXZlbCsrO1xuICAgIFxuICAgIC8vVXBkYXRlIGlmcmFtZSBzb3VyY2VcbiAgICAvLyAkKCdpZnJhbWUjcHJldmlldycpLmF0dHIoJ3NyYycsICdwcm9qZWN0X3RlbXBsYXRlL2luZGV4JytjdXJyZW50TGV2ZWwrJy5odG1sJyk7XG4gICAgLy8gJGluc3RydWN0aW9ucy5maW5kKFwiaDNcIikudGV4dChpbnN0cnVjdGlvbnNbXCJsZXZlbFwiK2N1cnJlbnRMZXZlbF0udGl0bGUpO1xuICAgIC8vICRpbnN0cnVjdGlvbnMuZmluZChcInBcIikudGV4dChpbnN0cnVjdGlvbnNbXCJsZXZlbFwiK2N1cnJlbnRMZXZlbF0uY29udGVudCk7XG4gICAgbG9hZE1pbmlDb3Vyc2UoKTtcbn1cblxuZnVuY3Rpb24gcHJldkxldmVsKCl7XG4gICAgY3VycmVudExldmVsID09IDEgPyAxIDogY3VycmVudExldmVsLS07XG4gICAgXG4gICAgLy9VcGRhdGUgaWZyYW1lIHNvdXJjZVxuICAgIC8vICQoJ2lmcmFtZSNwcmV2aWV3JykuYXR0cignc3JjJywgJ3Byb2plY3RfdGVtcGxhdGUvaW5kZXgnK2N1cnJlbnRMZXZlbCsnLmh0bWwnKTtcbiAgICAvLyAkaW5zdHJ1Y3Rpb25zLmZpbmQoXCJoM1wiKS50ZXh0KGluc3RydWN0aW9uc1tcImxldmVsXCIrY3VycmVudExldmVsXS50aXRsZSk7XG4gICAgLy8gJGluc3RydWN0aW9ucy5maW5kKFwicFwiKS50ZXh0KGluc3RydWN0aW9uc1tcImxldmVsXCIrY3VycmVudExldmVsXS5jb250ZW50KTtcbiAgICBsb2FkTWluaUNvdXJzZSgpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
