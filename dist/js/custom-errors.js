var CustomErrors={test:function(r){try{tokens=esprima.tokenize(r,{range:!0,loc:!0})}catch(e){console.log("ERROR TOKENIZING"),console.log(e);var o="Unexpected token ILLEGAL"==e.description?"It looks like you have a typo. Make sure your STRINGS have an opening ' and a closing ' ":e.description;return this.displayError(e.lineNumber,o),!0}for(var s=0;s<tokens.length;s++)if("Identifier"==tokens[s].type&&Object.keys(CustomErrors).indexOf(tokens[s].value)>-1){console.log(tokens[s].value);var t=CustomErrors[tokens[s].value](tokens,s);if(t)return t}},displayError:function(r,e){markJsErrorAtLine(r),$("#errorModal p.error-text").text(e),$("#errorModal").foundation("reveal","open")},errorMsgs:{color:"You need a valid color name. Make sure you're spelling the name of your color correctly, and that it's surrounded with quotation marks.",comma:"Every value or ARGUMENT inside parentheses must be separated by a comma",semicolon:"Every line of code or STATEMENT must end with a semicolon ';'",parentheses:"You need an opening '(' and a closing ')' parentheses.",number:"It looks like you're missing a number between the opening '(' and closing ')' parentheses."},createPlatform:function(r,e){for(var o={fourArgs:[{type:["Punctuator"],value:["("],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Numeric"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[")"],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Punctuator"],value:[";"],errorMsg:CustomErrors.errorMsgs.semicolon}],fiveArgs:[{type:["Punctuator"],value:["("],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Numeric"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["String","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.color},{type:["Punctuator"],value:[")"],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Punctuator"],value:[";"],errorMsg:CustomErrors.errorMsgs.semicolon}]},s=currentLevel>1&&currentLevel<4?o.fourArgs:o.fiveArgs,t=0;t<s.length;t++){var u=e+1+t,n=r[u].type,a=r[u].value;if(-1==s[t].type.indexOf(n)){console.log("Err A"),console.log(n),console.log(s[t]),console.log(s),console.log(r[u]);var l={token:r[e],errMsg:s[t].errorMsg};return this.displayError(l.token.loc.start.line,l.errMsg),!0}if(s[t].value&&-1==s[t].value.indexOf(a)){console.log("Err B");var l={token:r[e],errMsg:s[t].errorMsg};return l}}return!1},makePlayerJump:function(r,e){for(var o={oneArgs:[{type:["Punctuator"],value:["("],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[")"],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Punctuator"],value:[";"],errorMsg:CustomErrors.errorMsgs.semicolon}]},s=o.oneArgs,t=0;t<s.length;t++){var u=e+1+t,n=r[u].type;r[u].value;if(-1==s[t].type.indexOf(n)){console.log("Err A"),console.log(n),console.log(s[t]),console.log(s),console.log(r[u]);var a={token:r[e],errMsg:s[t].errorMsg};return this.displayError(a.token.loc.start.line,a.errMsg),!0}}return!1}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2N1c3RvbS1lcnJvcnMuanMiXSwibmFtZXMiOlsiQ3VzdG9tRXJyb3JzIiwidGVzdCIsImNvZGUiLCJ0b2tlbnMiLCJlc3ByaW1hIiwidG9rZW5pemUiLCJyYW5nZSIsImxvYyIsImUiLCJjb25zb2xlIiwibG9nIiwibXNnIiwiZGVzY3JpcHRpb24iLCJ0aGlzIiwiZGlzcGxheUVycm9yIiwibGluZU51bWJlciIsImkiLCJsZW5ndGgiLCJ0eXBlIiwiT2JqZWN0Iiwia2V5cyIsImluZGV4T2YiLCJ2YWx1ZSIsImVyciIsImxvY2F0aW9uIiwibWVzc2FnZSIsIm1hcmtKc0Vycm9yQXRMaW5lIiwiJCIsInRleHQiLCJmb3VuZGF0aW9uIiwiZXJyb3JNc2dzIiwiY29sb3IiLCJjb21tYSIsInNlbWljb2xvbiIsInBhcmVudGhlc2VzIiwibnVtYmVyIiwiY3JlYXRlUGxhdGZvcm0iLCJpbmRleCIsInRlc3RzIiwiZm91ckFyZ3MiLCJlcnJvck1zZyIsImZpdmVBcmdzIiwiY3VycmVudExldmVsIiwiaiIsInRva2VuSW5kZXgiLCJ0b2tlblR5cGUiLCJ0b2tlblZhbHVlIiwidG9rZW4iLCJlcnJNc2ciLCJzdGFydCIsImxpbmUiLCJtYWtlUGxheWVySnVtcCIsIm9uZUFyZ3MiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLGVBRUZDLEtBQU0sU0FBVUMsR0FDZCxJQUNFQyxPQUFTQyxRQUFRQyxTQUFVSCxHQUFPSSxPQUFPLEVBQU1DLEtBQUssSUFDckQsTUFBTUMsR0FFTEMsUUFBUUMsSUFBSSxvQkFDWkQsUUFBUUMsSUFBSUYsRUFFWixJQUFJRyxHQUF1Qiw0QkFBakJILEVBQUVJLFlBQTRDLDJGQUE2RkosRUFBRUksV0FHdkosT0FGQUMsTUFBS0MsYUFBY04sRUFBRU8sV0FBWUosSUFFMUIsRUFJVCxJQUFLLEdBQUlLLEdBQUksRUFBR0EsRUFBSWIsT0FBT2MsT0FBUUQsSUFFakMsR0FBc0IsY0FBbEJiLE9BQU9hLEdBQUdFLE1BQXdCQyxPQUFPQyxLQUFL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LElBQUlULEdBQ1pRLFFBQVFDLElBQUlQLEVBQU95QyxHQUVuQixJQUFJckIsSUFFRndCLE1BQU81QyxFQUFPa0MsR0FDZFcsT0FBUS9DLEVBQUswQyxHQUFHSCxTQUtsQixPQUZBM0IsTUFBS0MsYUFBY1MsRUFBSXdCLE1BQU14QyxJQUFJMEMsTUFBTUMsS0FBTTNCLEVBQUl5QixTQUUxQyxHQUlYLE9BQU8iLCJmaWxlIjoianMvY3VzdG9tLWVycm9ycy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDdXN0b21FcnJvcnMgPSB7XG4gIC8vTWFpbiBmdW5jaXRvbiB0byBiZSBjYWxsZWQgd2hlbiBwZXJmb3JtaW5nIHRlc3RzXG4gIHRlc3Q6IGZ1bmN0aW9uKCBjb2RlICl7XG4gICAgdHJ5e1xuICAgICAgdG9rZW5zID0gZXNwcmltYS50b2tlbml6ZSggY29kZSwge3JhbmdlOiB0cnVlLCBsb2M6IHRydWV9ICk7XG4gICAgfWNhdGNoKGUpe1xuICAgICAgLy8gSWYgdG9rZW5pemUgZmlsZXMgd2Ugd29uJ3QgaGF2ZSB0b2tlbnMgdG8gbG9vcCB0aHJvdWdoLiBUaHJvdyBiYWNrIHdoYXRldmVyIGVycm9yIHdlIGdvdFxuICAgICAgY29uc29sZS5sb2coXCJFUlJPUiBUT0tFTklaSU5HXCIpO1xuICAgICAgY29uc29sZS5sb2coZSk7XG5cbiAgICAgIHZhciBtc2cgPSBlLmRlc2NyaXB0aW9uID09IFwiVW5leHBlY3RlZCB0b2tlbiBJTExFR0FMXCIgPyBcIkl0IGxvb2tzIGxpa2UgeW91IGhhdmUgYSB0eXBvLiBNYWtlIHN1cmUgeW91ciBTVFJJTkdTIGhhdmUgYW4gb3BlbmluZyAnIGFuZCBhIGNsb3NpbmcgJyBcIiA6IGUuZGVzY3JpcHRpb247XG4gICAgICB0aGlzLmRpc3BsYXlFcnJvciggZS5saW5lTnVtYmVyLCBtc2cgKTtcbiAgICAgIC8vQnJlYWsgYXMgc29vbiBhcyB3ZSBmaW5kIGFuIGVycm9yIHRvIHByb3ZpZGUgZXJyb3JzIG9uZSBhdCBhIHRpbWVcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZpbmQgYWxsIHRva2VucyBmb3Igd2hpY2ggd2UgaGF2ZSBhIGN1c3RvbSBlcnJvciBjaGVja2luZyBmdW5jdGlvblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAvLyBFYWNoIGN1c3RvbSBmdW5jdGlvbiBzaG91bGQgaGFuZGxlIGVycm9ycyBvbiBpdHMgb3duLlxuICAgICAgaWYoIHRva2Vuc1tpXS50eXBlID09IFwiSWRlbnRpZmllclwiICYmIE9iamVjdC5rZXlzKEN1c3RvbUVycm9ycykuaW5kZXhPZiggdG9rZW5zW2ldLnZhbHVlICkgPiAtMSApe1xuICAgICAgICBjb25zb2xlLmxvZyh0b2tlbnNbaV0udmFsdWUpO1xuICAgICAgICB2YXIgZXJyID0gQ3VzdG9tRXJyb3JzW3Rva2Vuc1tpXS52YWx1ZV0odG9rZW5zLCBpKTtcbiAgICAgICAgaWYoIGVyciApe1xuICAgICAgICAgICAvL0JyZWFrIGFzIHNvb24gYXMgd2UgZmluZCBhbiBlcnJvciB0byBwcm92aWRlIGVycm9ycyBvbmUgYXQgYSB0aW1lXG4gICAgICAgICAgcmV0dXJuIGVycjsgICAgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9LFxuXG4gIGRpc3BsYXlFcnJvcjogZnVuY3Rpb24obG9jYXRpb24sIG1lc3NhZ2Upe1xuICAgIG1hcmtKc0Vycm9yQXRMaW5lKCBsb2NhdGlvbiApO1xuXG4gICAgJCgnI2Vycm9yTW9kYWwgcC5lcnJvci10ZXh0JykudGV4dCggbWVzc2FnZSApO1xuICAgICQoJyNlcnJvck1vZGFsJykuZm91bmRhdGlvbigncmV2ZWFsJywgJ29wZW4nKTtcbiAgfSxcblxuICBlcnJvck1zZ3M6IHtcbiAgICBjb2xvcjogXCJZb3UgbmVlZCBhIHZhbGlkIGNvbG9yIG5hbWUuIE1ha2Ugc3VyZSB5b3UncmUgc3BlbGxpbmcgdGhlIG5hbWUgb2YgeW91ciBjb2xvciBjb3JyZWN0bHksIGFuZCB0aGF0IGl0J3Mgc3Vycm91bmRlZCB3aXRoIHF1b3RhdGlvbiBtYXJrcy5cIixcbiAgICBjb21tYTogXCJFdmVyeSB2YWx1ZSBvciBBUkdVTUVOVCBpbnNpZGUgcGFyZW50aGVzZXMgbXVzdCBiZSBzZXBhcmF0ZWQgYnkgYSBjb21tYVwiLFxuICAgIHNlbWljb2xvbjogXCJFdmVyeSBsaW5lIG9mIGNvZGUgb3IgU1RBVEVNRU5UIG11c3QgZW5kIHdpdGggYSBzZW1pY29sb24gJzsnXCIsXG4gICAgcGFyZW50aGVzZXM6IFwiWW91IG5lZWQgYW4gb3BlbmluZyAnKCcgYW5kIGEgY2xvc2luZyAnKScgcGFyZW50aGVzZXMuXCIsXG4gICAgbnVtYmVyOiBcIkl0IGxvb2tzIGxpa2UgeW91J3JlIG1pc3NpbmcgYSBudW1iZXIgYmV0d2VlbiB0aGUgb3BlbmluZyAnKCcgYW5kIGNsb3NpbmcgJyknIHBhcmVudGhlc2VzLlwiXG4gIH0sXG5cbiAgLy8gQ3VzdG9tIGZ1bmN0aW9ucyB0byBoYW5kbGUgdGFpbG9yZWQgZmVlZGJhY2suXG4gIGNyZWF0ZVBsYXRmb3JtOiBmdW5jdGlvbih0b2tlbnMsIGluZGV4KXtcbiAgICAvLyBIYW5kbGUgbXVsdGlscGUgc2lnbmF0dXJlcyBvZiBjcmVhdGVQbGF0Zm9ybSAoNCBhbmQgNSBhcmd1bWVudHMpXG4gICAgdmFyIHRlc3RzID0ge1xuICAgICAgICBmb3VyQXJnczogW1xuICAgICAgICAgICAvLyBXZSBtaWdodCBhbGxvdyBtdWx0aXBsZSBvcHRpb25zLCBzdWNoIGFzIElkZW50aWZpZXIgb3IgTnVtZXJpYy4gVXNlIGFycmF5cyB0byBhY2NvdW50IGZvciB0aGF0XG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWycoJ10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5wYXJlbnRoZXNlcyAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnTnVtZXJpYyddLCAgICAgICAgICAgICAgIHZhbHVlOiBudWxsICwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLm51bWJlciAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJywnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLmNvbW1hICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJ10sICAgICAgICAgICAgICAgdmFsdWU6IG51bGwgLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MubnVtYmVyICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnLCddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MuY29tbWEgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ051bWVyaWMnLCAnSWRlbnRpZmllciddLCB2YWx1ZTogbnVsbCAsICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5udW1iZXIgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWycsJ10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5jb21tYSAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnTnVtZXJpYycsICdJZGVudGlmaWVyJ10sIHZhbHVlOiBudWxsICwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLm51bWJlciAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJyknXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLnBhcmVudGhlc2VzICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnOyddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3Muc2VtaWNvbG9uICB9LFxuICAgICAgICAgXSxcbiAgICAgICAgIGZpdmVBcmdzOiBbXG4gICAgICAgICAgIC8vIFdlIG1pZ2h0IGFsbG93IG11bHRpcGxlIG9wdGlvbnMsIHN1Y2ggYXMgSWRlbnRpZmllciBvciBOdW1lcmljLiBVc2UgYXJyYXlzIHRvIGFjY291bnQgZm9yIHRoYXRcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJygnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLnBhcmVudGhlc2VzICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJ10sICAgICAgICAgICAgICAgdmFsdWU6IG51bGwgLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MubnVtYmVyICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnLCddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MuY29tbWEgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ051bWVyaWMnXSwgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCAsICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5udW1iZXIgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWycsJ10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5jb21tYSAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnTnVtZXJpYycsICdJZGVudGlmaWVyJ10sIHZhbHVlOiBudWxsICwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLm51bWJlciAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJywnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLmNvbW1hICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJywgJ0lkZW50aWZpZXInXSwgdmFsdWU6IG51bGwgLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MubnVtYmVyICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnLCddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MuY29tbWEgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1N0cmluZycsICdJZGVudGlmaWVyJ10sICB2YWx1ZTogbnVsbCAsICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5jb2xvciB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnKSddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MucGFyZW50aGVzZXMgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWyc7J10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5zZW1pY29sb24gIH0sXG4gICAgICAgICBdXG4gICAgfVxuXG4gICAgLy8gT25seSB0d28gbGV2ZWxzIHJlcXVpcmUgdGhlIHRlc3Qgd2l0aCA0IGFyZ3VtZW50c1xuICAgIHZhciB0ZXN0ID0gKCBjdXJyZW50TGV2ZWwgPiAxICYmIGN1cnJlbnRMZXZlbCA8IDQgKSA/IHRlc3RzLmZvdXJBcmdzIDogdGVzdHMuZml2ZUFyZ3M7XG4gIFxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVzdC5sZW5ndGg7IGorKykge1xuICAgICAgLy8gTmVlZCB0byBhZGQgMSB0byB0aGUgcGFzc2VkIGluZGV4IHRvIGJlZ2luIGNoZWNrcyBhZnRlciB0aGUgdHJpZ2dlcmluZyBpZGVudGlmaWVyXG4gICAgICB2YXIgdG9rZW5JbmRleCA9IGluZGV4ICsgMSArIGo7XG5cbiAgICAgIHZhciB0b2tlblR5cGUgPSB0b2tlbnNbdG9rZW5JbmRleF0udHlwZTtcbiAgICAgIHZhciB0b2tlblZhbHVlID0gdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlO1xuXG4gICAgICBpZiggdGVzdFtqXS50eXBlLmluZGV4T2YoIHRva2VuVHlwZSApID09IC0xICl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyIEFcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKHRva2VuVHlwZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRlc3Rbal0pO1xuICAgICAgICBjb25zb2xlLmxvZyh0ZXN0KTtcbiAgICAgICAgY29uc29sZS5sb2codG9rZW5zW3Rva2VuSW5kZXhdKTtcbiAgICAgICAgLy8gRXJyb3IgZm91bmQuIERpc3BsYXkgdG8gdGhlIHVzZXIgYW5kIGV4aXRcbiAgICAgICAgdmFyIGVyciA9IHtcbiAgICAgICAgICAvLyBVc2Ugb3JpZ2luYWwgaW5kZXggdG8gaGlnaGxpZ2h0IHRoZSBjb3JyZWN0IGxpbmVcbiAgICAgICAgICB0b2tlbjogdG9rZW5zW2luZGV4XSwgXG4gICAgICAgICAgZXJyTXNnOiB0ZXN0W2pdLmVycm9yTXNnXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5kaXNwbGF5RXJyb3IoIGVyci50b2tlbi5sb2Muc3RhcnQubGluZSwgZXJyLmVyck1zZyApO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHdlIG5lZWQgYSBzcGVjaWZpYyB2YWx1ZSwgY2hlY2sgaXRcbiAgICAgIGlmKCB0ZXN0W2pdLnZhbHVlICYmIHRlc3Rbal0udmFsdWUuaW5kZXhPZiggdG9rZW5WYWx1ZSApID09IC0xICl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyIEJcIik7XG4gICAgICAgIC8vIEVycm9yIGZvdW5kLiBEaXNwbGF5IHRvIHRoZSB1c2VyIGFuZCBleGl0XG4gICAgICAgIHZhciBlcnIgPSB7XG4gICAgICAgICAgLy8gVXNlIG9yaWdpbmFsIGluZGV4IHRvIGhpZ2hsaWdodCB0aGUgY29ycmVjdCBsaW5lXG4gICAgICAgICAgdG9rZW46IHRva2Vuc1tpbmRleF0sIFxuICAgICAgICAgIGVyck1zZzogdGVzdFtqXS5lcnJvck1zZ1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXJyO1xuICAgICAgfVxuICAgIH07ICAgICAgICAgICBcbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG1ha2VQbGF5ZXJKdW1wOiBmdW5jdGlvbih0b2tlbnMsIGluZGV4KXtcbiAgICAvLyBIYW5kbGUgbXVsdGlscGUgc2lnbmF0dXJlcyBvZiBjcmVhdGVQbGF0Zm9ybSAoNCBhbmQgNSBhcmd1bWVudHMpXG4gICAgdmFyIHRlc3RzID0ge1xuICAgICAgICBvbmVBcmdzOiBbXG4gICAgICAgICAgIC8vIFdlIG1pZ2h0IGFsbG93IG11bHRpcGxlIG9wdGlvbnMsIHN1Y2ggYXMgSWRlbnRpZmllciBvciBOdW1lcmljLiBVc2UgYXJyYXlzIHRvIGFjY291bnQgZm9yIHRoYXRcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJygnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLnBhcmVudGhlc2VzICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJywgJ0lkZW50aWZpZXInXSwgdmFsdWU6IG51bGwgLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MubnVtYmVyICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnKSddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MucGFyZW50aGVzZXMgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWyc7J10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5zZW1pY29sb24gIH0sXG4gICAgICAgICBdLFxuICAgIH1cblxuICAgIC8vIERldGVybWluZSB3aGF0IGZ1bmN0aW9uIHNpZ25hdHVyZSB3ZSBuZWVkIHRvIGNvbXBhcmUgYWdhaW5zdFxuICAgIHZhciB0ZXN0ID0gdGVzdHMub25lQXJncztcbiAgXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAvLyBOZWVkIHRvIGFkZCAxIHRvIHRoZSBwYXNzZWQgaW5kZXggdG8gYmVnaW4gY2hlY2tzIGFmdGVyIHRoZSB0cmlnZ2VyaW5nIGlkZW50aWZpZXJcbiAgICAgIHZhciB0b2tlbkluZGV4ID0gaW5kZXggKyAxICsgajtcblxuICAgICAgdmFyIHRva2VuVHlwZSA9IHRva2Vuc1t0b2tlbkluZGV4XS50eXBlO1xuICAgICAgdmFyIHRva2VuVmFsdWUgPSB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWU7XG5cbiAgICAgIGlmKCB0ZXN0W2pdLnR5cGUuaW5kZXhPZiggdG9rZW5UeXBlICkgPT0gLTEgKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnIgQVwiKTtcbiAgICAgICAgY29uc29sZS5sb2codG9rZW5UeXBlKTtcbiAgICAgICAgY29uc29sZS5sb2codGVzdFtqXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRlc3QpO1xuICAgICAgICBjb25zb2xlLmxvZyh0b2tlbnNbdG9rZW5JbmRleF0pO1xuICAgICAgICAvLyBFcnJvciBmb3VuZC4gRGlzcGxheSB0byB0aGUgdXNlciBhbmQgZXhpdFxuICAgICAgICB2YXIgZXJyID0ge1xuICAgICAgICAgIC8vIFVzZSBvcmlnaW5hbCBpbmRleCB0byBoaWdobGlnaHQgdGhlIGNvcnJlY3QgbGluZVxuICAgICAgICAgIHRva2VuOiB0b2tlbnNbaW5kZXhdLCBcbiAgICAgICAgICBlcnJNc2c6IHRlc3Rbal0uZXJyb3JNc2dcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlFcnJvciggZXJyLnRva2VuLmxvYy5zdGFydC5saW5lLCBlcnIuZXJyTXNnICk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9OyAgICAgICAgICAgXG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
