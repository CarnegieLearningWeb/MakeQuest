var CustomErrors={test:function(r){try{tokens=esprima.tokenize(r,{range:!0,loc:!0})}catch(e){console.log("ERROR TOKENIZING"),console.log(e);var o="Unexpected token ILLEGAL"==e.description?"It looks like you have a typo. Make sure your STRINGS have an opening ' and a closing ' ":e.description;return this.displayError(e.lineNumber,o),!0}for(var s=0;s<tokens.length;s++)if("Identifier"==tokens[s].type&&Object.keys(CustomErrors).indexOf(tokens[s].value)>-1){console.log(tokens[s].value);var t=CustomErrors[tokens[s].value](tokens,s);if(t)return t}return!1},displayError:function(r,e){console.log("Error found"),markJsErrorAtLine(r),$("#errorModal p.error-text").text(e),$("#errorModal").foundation("reveal","open")},errorMsgs:{color:"You need a valid color name. Make sure you're spelling the name of your color correctly, and that it's surrounded with quotation marks.",comma:"Every value or ARGUMENT inside parentheses must be separated by a comma",semicolon:"Every line of code or STATEMENT must end with a semicolon ';'",parentheses:"You need an opening '(' and a closing ')' parentheses.",number:"It looks like you're missing a number between the opening '(' and closing ')' parentheses."},createPlatform:function(r,e){for(var o={fourArgs:[{type:["Punctuator"],value:["("],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[")"],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Punctuator"],value:[";"],errorMsg:CustomErrors.errorMsgs.semicolon}],fiveArgs:[{type:["Punctuator"],value:["("],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["String","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.color},{type:["Punctuator"],value:[")"],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Punctuator"],value:[";"],errorMsg:CustomErrors.errorMsgs.semicolon}]},s=currentLevel>1&&currentLevel<4?o.fourArgs:o.fiveArgs,t=0;t<s.length;t++){var u=e+1+t,n=r[u].type,l=r[u].value;if(-1==s[t].type.indexOf(n)){console.log("Err A"),console.log(n),console.log(s[t]),console.log(s),console.log(r[u]);var a={token:r[e],errMsg:s[t].errorMsg};return console.log("Output error"),console.log(a),this.displayError(a.token.loc.start.line,a.errMsg),!0}if(s[t].value&&-1==s[t].value.indexOf(l)){console.log("Err B");var a={token:r[e],errMsg:s[t].errorMsg};return this.displayError(a.token.loc.start.line,a.errMsg),!0}}return!1},makePlayerJump:function(r,e){for(var o={oneArgs:[{type:["Punctuator"],value:["("],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[")"],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Punctuator"],value:[";"],errorMsg:CustomErrors.errorMsgs.semicolon}]},s=o.oneArgs,t=0;t<s.length;t++){var u=e+1+t,n=r[u].type;r[u].value;if(-1==s[t].type.indexOf(n)){console.log("Err A"),console.log(n),console.log(s[t]),console.log(s),console.log(r[u]);var l={token:r[e],errMsg:s[t].errorMsg};return this.displayError(l.token.loc.start.line,l.errMsg),!0}}return!1},setSpeed:function(r,e){for(var o={twoArgs:[{type:["Punctuator"],value:["("],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[","],errorMsg:CustomErrors.errorMsgs.comma},{type:["Numeric","Identifier"],value:null,errorMsg:CustomErrors.errorMsgs.number},{type:["Punctuator"],value:[")"],errorMsg:CustomErrors.errorMsgs.parentheses},{type:["Punctuator"],value:[";"],errorMsg:CustomErrors.errorMsgs.semicolon}]},s=o.twoArgs,t=0;t<s.length;t++){var u=e+1+t,n=r[u].type;r[u].value;if(-1==s[t].type.indexOf(n)){console.log("setSpeed error found"),console.log(n),console.log(s[t]),console.log(s),console.log(r[u]);var l={token:r[e],errMsg:s[t].errorMsg};return this.displayError(l.token.loc.start.line,l.errMsg),!0}}return!1}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL2N1c3RvbS1lcnJvcnMuanMiXSwibmFtZXMiOlsiQ3VzdG9tRXJyb3JzIiwidGVzdCIsImNvZGUiLCJ0b2tlbnMiLCJlc3ByaW1hIiwidG9rZW5pemUiLCJyYW5nZSIsImxvYyIsImUiLCJjb25zb2xlIiwibG9nIiwibXNnIiwiZGVzY3JpcHRpb24iLCJ0aGlzIiwiZGlzcGxheUVycm9yIiwibGluZU51bWJlciIsImkiLCJsZW5ndGgiLCJ0eXBlIiwiT2JqZWN0Iiwia2V5cyIsImluZGV4T2YiLCJ2YWx1ZSIsImVyciIsImxvY2F0aW9uIiwibWVzc2FnZSIsIm1hcmtKc0Vycm9yQXRMaW5lIiwiJCIsInRleHQiLCJmb3VuZGF0aW9uIiwiZXJyb3JNc2dzIiwiY29sb3IiLCJjb21tYSIsInNlbWljb2xvbiIsInBhcmVudGhlc2VzIiwibnVtYmVyIiwiY3JlYXRlUGxhdGZvcm0iLCJpbmRleCIsInRlc3RzIiwiZm91ckFyZ3MiLCJlcnJvck1zZyIsImZpdmVBcmdzIiwiY3VycmVudExldmVsIiwiaiIsInRva2VuSW5kZXgiLCJ0b2tlblR5cGUiLCJ0b2tlblZhbHVlIiwidG9rZW4iLCJlcnJNc2ciLCJzdGFydCIsImxpbmUiLCJtYWtlUGxheWVySnVtcCIsIm9uZUFyZ3MiLCJzZXRTcGVlZCIsInR3b0FyZ3MiXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLGVBRUZDLEtBQU0sU0FBVUMsR0FDZCxJQUNFQyxPQUFTQyxRQUFRQyxTQUFVSCxHQUFPSSxPQUFPLEVBQU1DLEtBQUssSUFDckQsTUFBTUMsR0FFTEMsUUFBUUMsSUFBSSxvQkFDWkQsUUFBUUMsSUFBSUYsRUFFWixJQUFJRyxHQUF1Qiw0QkFBakJILEVBQUVJLFlBQTRDLDJGQUE2RkosRUFBRUksV0FHdkosT0FGQUMsTUFBS0MsYUFBY04sRUFBRU8sV0FBWUosSUFFMUIsRUFJVCxJQUFLLEdBQUlLLEdBQUksRUFBR0EsRUFBSWIsT0FBT2MsT0FBUUQsSUFFakMsR0FBc0IsY0FBbEJiLE9BQU9hLEdB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QixDQUMzQ3BDLFFBQVFDLElBQUksd0JBQ1pELFFBQVFDLElBQUltQyxHQUNacEMsUUFBUUMsSUFBSVQsRUFBSzBDLElBQ2pCbEMsUUFBUUMsSUFBSVQsR0FDWlEsUUFBUUMsSUFBSVAsRUFBT3lDLEdBRW5CLElBQUlyQixJQUVGd0IsTUFBTzVDLEVBQU9rQyxHQUNkVyxPQUFRL0MsRUFBSzBDLEdBQUdILFNBS2xCLE9BRkEzQixNQUFLQyxhQUFjUyxFQUFJd0IsTUFBTXhDLElBQUkwQyxNQUFNQyxLQUFNM0IsRUFBSXlCLFNBRTFDLEdBSVgsT0FBTyIsImZpbGUiOiJqcy9jdXN0b20tZXJyb3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEN1c3RvbUVycm9ycyA9IHtcbiAgLy9NYWluIGZ1bmNpdG9uIHRvIGJlIGNhbGxlZCB3aGVuIHBlcmZvcm1pbmcgdGVzdHNcbiAgdGVzdDogZnVuY3Rpb24oIGNvZGUgKXtcbiAgICB0cnl7XG4gICAgICB0b2tlbnMgPSBlc3ByaW1hLnRva2VuaXplKCBjb2RlLCB7cmFuZ2U6IHRydWUsIGxvYzogdHJ1ZX0gKTtcbiAgICB9Y2F0Y2goZSl7XG4gICAgICAvLyBJZiB0b2tlbml6ZSBmaWxlcyB3ZSB3b24ndCBoYXZlIHRva2VucyB0byBsb29wIHRocm91Z2guIFRocm93IGJhY2sgd2hhdGV2ZXIgZXJyb3Igd2UgZ290XG4gICAgICBjb25zb2xlLmxvZyhcIkVSUk9SIFRPS0VOSVpJTkdcIik7XG4gICAgICBjb25zb2xlLmxvZyhlKTtcblxuICAgICAgdmFyIG1zZyA9IGUuZGVzY3JpcHRpb24gPT0gXCJVbmV4cGVjdGVkIHRva2VuIElMTEVHQUxcIiA/IFwiSXQgbG9va3MgbGlrZSB5b3UgaGF2ZSBhIHR5cG8uIE1ha2Ugc3VyZSB5b3VyIFNUUklOR1MgaGF2ZSBhbiBvcGVuaW5nICcgYW5kIGEgY2xvc2luZyAnIFwiIDogZS5kZXNjcmlwdGlvbjtcbiAgICAgIHRoaXMuZGlzcGxheUVycm9yKCBlLmxpbmVOdW1iZXIsIG1zZyApO1xuICAgICAgLy9CcmVhayBhcyBzb29uIGFzIHdlIGZpbmQgYW4gZXJyb3IgdG8gcHJvdmlkZSBlcnJvcnMgb25lIGF0IGEgdGltZVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmluZCBhbGwgdG9rZW5zIGZvciB3aGljaCB3ZSBoYXZlIGEgY3VzdG9tIGVycm9yIGNoZWNraW5nIGZ1bmN0aW9uXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIC8vIEVhY2ggY3VzdG9tIGZ1bmN0aW9uIHNob3VsZCBoYW5kbGUgZXJyb3JzIG9uIGl0cyBvd24uXG4gICAgICBpZiggdG9rZW5zW2ldLnR5cGUgPT0gXCJJZGVudGlmaWVyXCIgJiYgT2JqZWN0LmtleXMoQ3VzdG9tRXJyb3JzKS5pbmRleE9mKCB0b2tlbnNbaV0udmFsdWUgKSA+IC0xICl7XG4gICAgICAgIGNvbnNvbGUubG9nKHRva2Vuc1tpXS52YWx1ZSk7XG4gICAgICAgIHZhciBlcnIgPSBDdXN0b21FcnJvcnNbdG9rZW5zW2ldLnZhbHVlXSh0b2tlbnMsIGkpO1xuICAgICAgICBpZiggZXJyICl7XG4gICAgICAgICAgIC8vQnJlYWsgYXMgc29vbiBhcyB3ZSBmaW5kIGFuIGVycm9yIHRvIHByb3ZpZGUgZXJyb3JzIG9uZSBhdCBhIHRpbWVcbiAgICAgICAgICByZXR1cm4gZXJyOyAgICBcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgZGlzcGxheUVycm9yOiBmdW5jdGlvbihsb2NhdGlvbiwgbWVzc2FnZSl7XG4gICAgY29uc29sZS5sb2coXCJFcnJvciBmb3VuZFwiKTtcbiAgICBtYXJrSnNFcnJvckF0TGluZSggbG9jYXRpb24gKTtcblxuICAgICQoJyNlcnJvck1vZGFsIHAuZXJyb3ItdGV4dCcpLnRleHQoIG1lc3NhZ2UgKTtcbiAgICAkKCcjZXJyb3JNb2RhbCcpLmZvdW5kYXRpb24oJ3JldmVhbCcsICdvcGVuJyk7XG4gIH0sXG5cbiAgZXJyb3JNc2dzOiB7XG4gICAgY29sb3I6IFwiWW91IG5lZWQgYSB2YWxpZCBjb2xvciBuYW1lLiBNYWtlIHN1cmUgeW91J3JlIHNwZWxsaW5nIHRoZSBuYW1lIG9mIHlvdXIgY29sb3IgY29ycmVjdGx5LCBhbmQgdGhhdCBpdCdzIHN1cnJvdW5kZWQgd2l0aCBxdW90YXRpb24gbWFya3MuXCIsXG4gICAgY29tbWE6IFwiRXZlcnkgdmFsdWUgb3IgQVJHVU1FTlQgaW5zaWRlIHBhcmVudGhlc2VzIG11c3QgYmUgc2VwYXJhdGVkIGJ5IGEgY29tbWFcIixcbiAgICBzZW1pY29sb246IFwiRXZlcnkgbGluZSBvZiBjb2RlIG9yIFNUQVRFTUVOVCBtdXN0IGVuZCB3aXRoIGEgc2VtaWNvbG9uICc7J1wiLFxuICAgIHBhcmVudGhlc2VzOiBcIllvdSBuZWVkIGFuIG9wZW5pbmcgJygnIGFuZCBhIGNsb3NpbmcgJyknIHBhcmVudGhlc2VzLlwiLFxuICAgIG51bWJlcjogXCJJdCBsb29rcyBsaWtlIHlvdSdyZSBtaXNzaW5nIGEgbnVtYmVyIGJldHdlZW4gdGhlIG9wZW5pbmcgJygnIGFuZCBjbG9zaW5nICcpJyBwYXJlbnRoZXNlcy5cIlxuICB9LFxuXG4gIC8vIEN1c3RvbSBmdW5jdGlvbnMgdG8gaGFuZGxlIHRhaWxvcmVkIGZlZWRiYWNrLlxuICBjcmVhdGVQbGF0Zm9ybTogZnVuY3Rpb24odG9rZW5zLCBpbmRleCl7XG4gICAgLy8gSGFuZGxlIG11bHRpbHBlIHNpZ25hdHVyZXMgb2YgY3JlYXRlUGxhdGZvcm0gKDQgYW5kIDUgYXJndW1lbnRzKVxuICAgIHZhciB0ZXN0cyA9IHtcbiAgICAgICAgZm91ckFyZ3M6IFtcbiAgICAgICAgICAgLy8gV2UgbWlnaHQgYWxsb3cgbXVsdGlwbGUgb3B0aW9ucywgc3VjaCBhcyBJZGVudGlmaWVyIG9yIE51bWVyaWMuIFVzZSBhcnJheXMgdG8gYWNjb3VudCBmb3IgdGhhdFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnKCddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MucGFyZW50aGVzZXMgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ051bWVyaWMnLCAnSWRlbnRpZmllciddLCAgICAgICAgICAgICAgIHZhbHVlOiBudWxsICwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLm51bWJlciAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJywnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLmNvbW1hICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJywgJ0lkZW50aWZpZXInXSwgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCAsICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5udW1iZXIgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWycsJ10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5jb21tYSAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnTnVtZXJpYycsICdJZGVudGlmaWVyJ10sIHZhbHVlOiBudWxsICwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLm51bWJlciAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJywnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLmNvbW1hICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJywgJ0lkZW50aWZpZXInXSwgdmFsdWU6IG51bGwgLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MubnVtYmVyICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnKSddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MucGFyZW50aGVzZXMgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWyc7J10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5zZW1pY29sb24gIH0sXG4gICAgICAgICBdLFxuICAgICAgICAgZml2ZUFyZ3M6IFtcbiAgICAgICAgICAgLy8gV2UgbWlnaHQgYWxsb3cgbXVsdGlwbGUgb3B0aW9ucywgc3VjaCBhcyBJZGVudGlmaWVyIG9yIE51bWVyaWMuIFVzZSBhcnJheXMgdG8gYWNjb3VudCBmb3IgdGhhdFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnKCddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MucGFyZW50aGVzZXMgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ051bWVyaWMnLCAnSWRlbnRpZmllciddLCAgICAgICAgICAgICAgIHZhbHVlOiBudWxsICwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLm51bWJlciAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJywnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLmNvbW1hICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJywgJ0lkZW50aWZpZXInXSwgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCAsICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5udW1iZXIgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWycsJ10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5jb21tYSAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnTnVtZXJpYycsICdJZGVudGlmaWVyJ10sIHZhbHVlOiBudWxsICwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLm51bWJlciAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJywnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLmNvbW1hICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJywgJ0lkZW50aWZpZXInXSwgdmFsdWU6IG51bGwgLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MubnVtYmVyICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnLCddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MuY29tbWEgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1N0cmluZycsICdJZGVudGlmaWVyJ10sICB2YWx1ZTogbnVsbCAsICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5jb2xvciB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnKSddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MucGFyZW50aGVzZXMgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWyc7J10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5zZW1pY29sb24gIH0sXG4gICAgICAgICBdXG4gICAgfVxuXG4gICAgLy8gT25seSB0d28gbGV2ZWxzIHJlcXVpcmUgdGhlIHRlc3Qgd2l0aCA0IGFyZ3VtZW50c1xuICAgIHZhciB0ZXN0ID0gKCBjdXJyZW50TGV2ZWwgPiAxICYmIGN1cnJlbnRMZXZlbCA8IDQgKSA/IHRlc3RzLmZvdXJBcmdzIDogdGVzdHMuZml2ZUFyZ3M7XG4gIFxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGVzdC5sZW5ndGg7IGorKykge1xuICAgICAgLy8gTmVlZCB0byBhZGQgMSB0byB0aGUgcGFzc2VkIGluZGV4IHRvIGJlZ2luIGNoZWNrcyBhZnRlciB0aGUgdHJpZ2dlcmluZyBpZGVudGlmaWVyXG4gICAgICB2YXIgdG9rZW5JbmRleCA9IGluZGV4ICsgMSArIGo7XG5cbiAgICAgIHZhciB0b2tlblR5cGUgPSB0b2tlbnNbdG9rZW5JbmRleF0udHlwZTtcbiAgICAgIHZhciB0b2tlblZhbHVlID0gdG9rZW5zW3Rva2VuSW5kZXhdLnZhbHVlO1xuXG4gICAgICBpZiggdGVzdFtqXS50eXBlLmluZGV4T2YoIHRva2VuVHlwZSApID09IC0xICl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiRXJyIEFcIik7XG4gICAgICAgIGNvbnNvbGUubG9nKHRva2VuVHlwZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRlc3Rbal0pO1xuICAgICAgICBjb25zb2xlLmxvZyh0ZXN0KTtcbiAgICAgICAgY29uc29sZS5sb2codG9rZW5zW3Rva2VuSW5kZXhdKTtcblxuICAgICAgICAvLyBFcnJvciBmb3VuZC4gRGlzcGxheSB0byB0aGUgdXNlciBhbmQgZXhpdFxuICAgICAgICB2YXIgZXJyID0ge1xuICAgICAgICAgIC8vIFVzZSBvcmlnaW5hbCBpbmRleCB0byBoaWdobGlnaHQgdGhlIGNvcnJlY3QgbGluZVxuICAgICAgICAgIHRva2VuOiB0b2tlbnNbaW5kZXhdLCBcbiAgICAgICAgICBlcnJNc2c6IHRlc3Rbal0uZXJyb3JNc2dcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcIk91dHB1dCBlcnJvclwiKTtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlFcnJvciggZXJyLnRva2VuLmxvYy5zdGFydC5saW5lLCBlcnIuZXJyTXNnICk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgbmVlZCBhIHNwZWNpZmljIHZhbHVlLCBjaGVjayBpdFxuICAgICAgaWYoIHRlc3Rbal0udmFsdWUgJiYgdGVzdFtqXS52YWx1ZS5pbmRleE9mKCB0b2tlblZhbHVlICkgPT0gLTEgKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnIgQlwiKTtcbiAgICAgICAgLy8gRXJyb3IgZm91bmQuIERpc3BsYXkgdG8gdGhlIHVzZXIgYW5kIGV4aXRcbiAgICAgICAgdmFyIGVyciA9IHtcbiAgICAgICAgICAvLyBVc2Ugb3JpZ2luYWwgaW5kZXggdG8gaGlnaGxpZ2h0IHRoZSBjb3JyZWN0IGxpbmVcbiAgICAgICAgICB0b2tlbjogdG9rZW5zW2luZGV4XSwgXG4gICAgICAgICAgZXJyTXNnOiB0ZXN0W2pdLmVycm9yTXNnXG4gICAgICAgIH07XG5cbiAgICAgICAgXG4gICAgICAgIHRoaXMuZGlzcGxheUVycm9yKCBlcnIudG9rZW4ubG9jLnN0YXJ0LmxpbmUsIGVyci5lcnJNc2cgKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH07ICAgICAgICAgICBcbiAgICBcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG1ha2VQbGF5ZXJKdW1wOiBmdW5jdGlvbih0b2tlbnMsIGluZGV4KXtcbiAgICAvLyBIYW5kbGUgbXVsdGlscGUgc2lnbmF0dXJlcyBvZiBjcmVhdGVQbGF0Zm9ybSAoNCBhbmQgNSBhcmd1bWVudHMpXG4gICAgdmFyIHRlc3RzID0ge1xuICAgICAgICBvbmVBcmdzOiBbXG4gICAgICAgICAgIC8vIFdlIG1pZ2h0IGFsbG93IG11bHRpcGxlIG9wdGlvbnMsIHN1Y2ggYXMgSWRlbnRpZmllciBvciBOdW1lcmljLiBVc2UgYXJyYXlzIHRvIGFjY291bnQgZm9yIHRoYXRcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJygnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLnBhcmVudGhlc2VzICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJywgJ0lkZW50aWZpZXInXSwgdmFsdWU6IG51bGwgLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MubnVtYmVyICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnKSddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MucGFyZW50aGVzZXMgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWyc7J10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5zZW1pY29sb24gIH0sXG4gICAgICAgICBdLFxuICAgIH1cblxuICAgIC8vIERldGVybWluZSB3aGF0IGZ1bmN0aW9uIHNpZ25hdHVyZSB3ZSBuZWVkIHRvIGNvbXBhcmUgYWdhaW5zdFxuICAgIHZhciB0ZXN0ID0gdGVzdHMub25lQXJncztcbiAgXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAvLyBOZWVkIHRvIGFkZCAxIHRvIHRoZSBwYXNzZWQgaW5kZXggdG8gYmVnaW4gY2hlY2tzIGFmdGVyIHRoZSB0cmlnZ2VyaW5nIGlkZW50aWZpZXJcbiAgICAgIHZhciB0b2tlbkluZGV4ID0gaW5kZXggKyAxICsgajtcblxuICAgICAgdmFyIHRva2VuVHlwZSA9IHRva2Vuc1t0b2tlbkluZGV4XS50eXBlO1xuICAgICAgdmFyIHRva2VuVmFsdWUgPSB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWU7XG5cbiAgICAgIGlmKCB0ZXN0W2pdLnR5cGUuaW5kZXhPZiggdG9rZW5UeXBlICkgPT0gLTEgKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnIgQVwiKTtcbiAgICAgICAgY29uc29sZS5sb2codG9rZW5UeXBlKTtcbiAgICAgICAgY29uc29sZS5sb2codGVzdFtqXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRlc3QpO1xuICAgICAgICBjb25zb2xlLmxvZyh0b2tlbnNbdG9rZW5JbmRleF0pO1xuICAgICAgICAvLyBFcnJvciBmb3VuZC4gRGlzcGxheSB0byB0aGUgdXNlciBhbmQgZXhpdFxuICAgICAgICB2YXIgZXJyID0ge1xuICAgICAgICAgIC8vIFVzZSBvcmlnaW5hbCBpbmRleCB0byBoaWdobGlnaHQgdGhlIGNvcnJlY3QgbGluZVxuICAgICAgICAgIHRva2VuOiB0b2tlbnNbaW5kZXhdLCBcbiAgICAgICAgICBlcnJNc2c6IHRlc3Rbal0uZXJyb3JNc2dcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlFcnJvciggZXJyLnRva2VuLmxvYy5zdGFydC5saW5lLCBlcnIuZXJyTXNnICk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9OyAgICAgICAgICAgXG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBzZXRTcGVlZDogZnVuY3Rpb24odG9rZW5zLCBpbmRleCl7XG4gICAgLy8gSGFuZGxlIG11bHRpbHBlIHNpZ25hdHVyZXMgb2YgY3JlYXRlUGxhdGZvcm0gKDQgYW5kIDUgYXJndW1lbnRzKVxuICAgIHZhciB0ZXN0cyA9IHtcbiAgICAgICAgdHdvQXJnczogW1xuICAgICAgICAgICAvLyBXZSBtaWdodCBhbGxvdyBtdWx0aXBsZSBvcHRpb25zLCBzdWNoIGFzIElkZW50aWZpZXIgb3IgTnVtZXJpYy4gVXNlIGFycmF5cyB0byBhY2NvdW50IGZvciB0aGF0XG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWycoJ10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5wYXJlbnRoZXNlcyAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnTnVtZXJpYycsICdJZGVudGlmaWVyJ10sIHZhbHVlOiBudWxsICwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLm51bWJlciAgfSxcbiAgICAgICAgICAge3R5cGU6IFsnUHVuY3R1YXRvciddLCAgICAgICAgICAgIHZhbHVlOiBbJywnXSwgIGVycm9yTXNnOiBDdXN0b21FcnJvcnMuZXJyb3JNc2dzLmNvbW1hICB9LFxuICAgICAgICAgICB7dHlwZTogWydOdW1lcmljJywgJ0lkZW50aWZpZXInXSwgdmFsdWU6IG51bGwgLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MubnVtYmVyICB9LFxuICAgICAgICAgICB7dHlwZTogWydQdW5jdHVhdG9yJ10sICAgICAgICAgICAgdmFsdWU6IFsnKSddLCAgZXJyb3JNc2c6IEN1c3RvbUVycm9ycy5lcnJvck1zZ3MucGFyZW50aGVzZXMgIH0sXG4gICAgICAgICAgIHt0eXBlOiBbJ1B1bmN0dWF0b3InXSwgICAgICAgICAgICB2YWx1ZTogWyc7J10sICBlcnJvck1zZzogQ3VzdG9tRXJyb3JzLmVycm9yTXNncy5zZW1pY29sb24gIH0sXG4gICAgICAgICBdLFxuICAgIH1cblxuICAgIC8vIERldGVybWluZSB3aGF0IGZ1bmN0aW9uIHNpZ25hdHVyZSB3ZSBuZWVkIHRvIGNvbXBhcmUgYWdhaW5zdFxuICAgIHZhciB0ZXN0ID0gdGVzdHMudHdvQXJncztcbiAgXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZXN0Lmxlbmd0aDsgaisrKSB7XG4gICAgICAvLyBOZWVkIHRvIGFkZCAxIHRvIHRoZSBwYXNzZWQgaW5kZXggdG8gYmVnaW4gY2hlY2tzIGFmdGVyIHRoZSB0cmlnZ2VyaW5nIGlkZW50aWZpZXJcbiAgICAgIHZhciB0b2tlbkluZGV4ID0gaW5kZXggKyAxICsgajtcblxuICAgICAgdmFyIHRva2VuVHlwZSA9IHRva2Vuc1t0b2tlbkluZGV4XS50eXBlO1xuICAgICAgdmFyIHRva2VuVmFsdWUgPSB0b2tlbnNbdG9rZW5JbmRleF0udmFsdWU7XG5cbiAgICAgIGlmKCB0ZXN0W2pdLnR5cGUuaW5kZXhPZiggdG9rZW5UeXBlICkgPT0gLTEgKXtcbiAgICAgICAgY29uc29sZS5sb2coXCJzZXRTcGVlZCBlcnJvciBmb3VuZFwiKTtcbiAgICAgICAgY29uc29sZS5sb2codG9rZW5UeXBlKTtcbiAgICAgICAgY29uc29sZS5sb2codGVzdFtqXSk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRlc3QpO1xuICAgICAgICBjb25zb2xlLmxvZyh0b2tlbnNbdG9rZW5JbmRleF0pO1xuICAgICAgICAvLyBFcnJvciBmb3VuZC4gRGlzcGxheSB0byB0aGUgdXNlciBhbmQgZXhpdFxuICAgICAgICB2YXIgZXJyID0ge1xuICAgICAgICAgIC8vIFVzZSBvcmlnaW5hbCBpbmRleCB0byBoaWdobGlnaHQgdGhlIGNvcnJlY3QgbGluZVxuICAgICAgICAgIHRva2VuOiB0b2tlbnNbaW5kZXhdLCBcbiAgICAgICAgICBlcnJNc2c6IHRlc3Rbal0uZXJyb3JNc2dcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmRpc3BsYXlFcnJvciggZXJyLnRva2VuLmxvYy5zdGFydC5saW5lLCBlcnIuZXJyTXNnICk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9OyAgICAgICAgICAgXG4gICAgXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxufVxuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
