function publish(){parent.publishPrompt()}function goToSandbox(){console.log("LOAD SANDBOX"),storage.set("skipToSandbox","true"),window.location.reload(),parent.loadCurrentUserProject()}function backToGame(){console.log("BACK TO GAME"),storage.del("skipToSandbox"),window.location.reload(),parent.loadCurrentUserProject()}function showNextLevelButton(){isPublishedGame||currentLevel==maxLevel||skipToSandbox||(parent.document.getElementById("next").style.display="inline-block")}function previousLevel(){storage.set("currentLevel",currentLevel-1),window.location.reload(),parent!==window&&parent.prevLevel()}function nextLevel(){if(!isPublishedGame&&currentLevel!=maxLevel){if(currentLevel+1==maxLevel)return void goToSandbox();storage.set("currentLevel",currentLevel==maxLevel?maxLevel:currentLevel+1),storage.get("maxLevelUnlocked")<currentLevel+1&&storage.set("maxLevelUnlocked",currentLevel+1),window.location.reload(),parent!==window&&parent.nextLevel()}}function showDialogue(){dialogueOn=!0,storage.set("dialogueOn"+currentLevel,1)}function base_getLevelDialogue(){return[{character:"heroA",image:heroAPic,textColor:"white",text:"TODO: Add level "+currentLevel+" instructions"}]}function base_setupLevel(){}function base_drawLevel(){}function setupLevel(){}function drawLevel(){}function getLevelDialogue(){}var currentLevel=parseInt(storage.get("currentLevel")),maxLevelUnlocked=parseInt(storage.get("maxLevelUnlocked")),dialogueOn=parseInt(storage.get("dialogueOn"+currentLevel)),maxLevel=gameConstants.MAX_LEVEL,skipToSandbox="true"==storage.get("skipToSandbox")?!0:!1,isPublishedGame=!1;skipToSandbox?(currentLevel=maxLevel,parent.document.getElementById("skipToSandbox").style.display="none",parent.document.getElementById("backToGame").style.display="inline-block",parent.document.getElementById("publish").style.display="inline-block"):(parent.document.getElementById("skipToSandbox").style.display="inline-block",parent.document.getElementById("backToGame").style.display="none",parent.document.getElementById("publish").style.display="none"),document.body.hasAttribute("data-published-game-base-level")&&(isPublishedGame=!0,currentLevel=maxLevelUnlocked=parseInt(document.body.getAttribute("data-published-game-base-level"))),console.log("INITIAL VALUES"),console.log(currentLevel,maxLevelUnlocked);var currentLevelFilename;isNaN(currentLevel)&&(currentLevel=0),isNaN(maxLevelUnlocked)&&(maxLevelUnlocked=storage.set("maxLevelUnlocked",0)),isNaN(dialogueOn)&&(dialogueOn=storage.set("dialogueOn"+currentLevel,1)),currentLevelFilename=10>currentLevel?"levels/0"+currentLevel:"levels/"+currentLevel,currentLevel>1&&!isPublishedGame&&!skipToSandbox?parent.document.getElementById("previous").style.display="inline-block":parent.document.getElementById("previous").style.display="none",maxLevelUnlocked>currentLevel?showNextLevelButton():parent.document.getElementById("next").style.display="none",document.write('<script src="'+currentLevelFilename+'-base.js"></script>'),document.write('<script src="'+currentLevelFilename+'.js"></script>');